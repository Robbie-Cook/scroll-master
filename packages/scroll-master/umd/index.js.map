{"version":3,"sources":["webpack://ScrollMaster/webpack/universalModuleDefinition","webpack://ScrollMaster/webpack/bootstrap","webpack://ScrollMaster/./src sync","webpack://ScrollMaster/./src/index.ts","webpack://ScrollMaster/./src/scroll.js"],"names":["root","factory","exports","module","define","amd","global","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","webpackEmptyContext","req","e","Error","code","keys","resolve","id","window","ScrollMaster","console","log","hello","selector","options","this","elements","vp","getViewportSize","body","document","querySelector","wrap","wrapWith","marginTop","marginBottom","stickyFor","stickyClass","stickyContainer","updateScrollTopPosition","addEventListener","run","pageLoaded","setInterval","readyState","clearInterval","querySelectorAll","forEach","element","renderElement","sticky","active","customStyles","getAttribute","parseInt","hasAttribute","container","getStickyContainer","rect","getRectangle","tagName","toLowerCase","onload","wrapElement","activate","insertAdjacentHTML","previousSibling","appendChild","top","height","width","indexOf","push","resizeEvent","initResizeEvents","scrollEvent","initScrollEvents","setPosition","resizeListener","onResizeEvents","destroyResizeEvents","removeEventListener","scrollListener","onScrollEvents","destroyScrollEvents","css","position","left","classList","remove","parentNode","display","add","scrollTop","offsetHeight","update","destroy","Math","max","offsetWidth","clientWidth","scrollWidth","clientHeight","scrollHeight","offsetTop","offsetLeft","offsetParent","documentElement","innerWidth","innerHeight","pageYOffset","clientTop","array","callback","len","length","properties","style"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ScrollMaster\"] = factory();\n\telse\n\t\troot[\"ScrollMaster\"] = factory();\n})(global, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 0;","import ScrollMaster from \"./scroll\";\n\n// Allows import from web\nif (window) {\n  (window as any).ScrollMaster = ScrollMaster;\n}\n\nconsole.log('hello');\n(window as any).hello = \"hi\"!\n\nexport default ScrollMaster;","export default class ScrollMaster {\n  /**\n   * Sticky instance constructor\n   * @constructor\n   * @param {string} selector - Selector which we can find elements\n   * @param {string} options - Global options for sticky elements (could be overwritten by data-{option}=\"\" attributes)\n   */\n  constructor(selector = \"\", options = {}) {\n    this.selector = selector;\n    this.elements = [];\n\n    this.vp = this.getViewportSize();\n    this.body = document.querySelector(\"body\");\n\n    this.options = {\n      wrap: options.wrap || false,\n      wrapWith: options.wrapWith || \"<span></span>\",\n      marginTop: options.marginTop || 0,\n      marginBottom: options.marginBottom || 0,\n      stickyFor: options.stickyFor || 0,\n      stickyClass: options.stickyClass || null,\n      stickyContainer: options.stickyContainer || \"body\",\n    };\n\n    this.updateScrollTopPosition = this.updateScrollTopPosition.bind(this);\n\n    this.updateScrollTopPosition();\n    window.addEventListener(\"load\", this.updateScrollTopPosition);\n    window.addEventListener(\"scroll\", this.updateScrollTopPosition);\n\n    this.run();\n  }\n\n  /**\n   * Function that waits for page to be fully loaded and then renders & activates every sticky element found with specified selector\n   * @function\n   */\n  run() {\n    // wait for page to be fully loaded\n    const pageLoaded = setInterval(() => {\n      if (document.readyState === \"complete\") {\n        clearInterval(pageLoaded);\n\n        const elements = document.querySelectorAll(this.selector);\n        this.forEach(elements, (element) => this.renderElement(element));\n      }\n    }, 10);\n  }\n\n  /**\n   * Function that assign needed variables for sticky element, that are used in future for calculations and other\n   * @function\n   * @param {node} element - Element to be rendered\n   */\n  renderElement(element) {\n    // create container for variables needed in future\n    element.sticky = {};\n\n    // set default variables\n    element.sticky.active = false;\n\n    element.sticky.customStyles =\n      element.getAttribute(\"data-custom-styles\") === \"true\";\n    element.sticky.marginTop =\n      parseInt(element.getAttribute(\"data-margin-top\")) ||\n      this.options.marginTop;\n    element.sticky.marginBottom =\n      parseInt(element.getAttribute(\"data-margin-bottom\")) ||\n      this.options.marginBottom;\n    element.sticky.stickyFor =\n      parseInt(element.getAttribute(\"data-sticky-for\")) ||\n      this.options.stickyFor;\n    element.sticky.stickyClass =\n      element.getAttribute(\"data-sticky-class\") || this.options.stickyClass;\n    element.sticky.wrap = element.hasAttribute(\"data-sticky-wrap\")\n      ? true\n      : this.options.wrap;\n    // @todo attribute for stickyContainer\n    // element.sticky.stickyContainer = element.getAttribute('data-sticky-container') || this.options.stickyContainer;\n    element.sticky.stickyContainer = this.options.stickyContainer;\n\n    element.sticky.container = this.getStickyContainer(element);\n    element.sticky.container.rect = this.getRectangle(element.sticky.container);\n\n    element.sticky.rect = this.getRectangle(element);\n\n    // fix when element is image that has not yet loaded and width, height = 0\n    if (element.tagName.toLowerCase() === \"img\") {\n      element.onload = () => (element.sticky.rect = this.getRectangle(element));\n    }\n\n    if (element.sticky.wrap) {\n      this.wrapElement(element);\n    }\n\n    // activate rendered element\n    this.activate(element);\n  }\n\n  /**\n   * Wraps element into placeholder element\n   * @function\n   * @param {node} element - Element to be wrapped\n   */\n  wrapElement(element) {\n    element.insertAdjacentHTML(\n      \"beforebegin\",\n      element.getAttribute(\"data-sticky-wrapWith\") || this.options.wrapWith\n    );\n    element.previousSibling.appendChild(element);\n  }\n\n  /**\n   * Function that activates element when specified conditions are met and then initalise events\n   * @function\n   * @param {Element} element - Element to be activated\n   */\n  activate(element) {\n    if (\n      element.sticky.rect.top + element.sticky.rect.height <\n        element.sticky.container.rect.top +\n          element.sticky.container.rect.height &&\n      element.sticky.stickyFor < this.vp.width &&\n      !element.sticky.active\n    ) {\n      element.sticky.active = true;\n    }\n\n    if (this.elements.indexOf(element) < 0) {\n      this.elements.push(element);\n    }\n\n    if (!element.sticky.resizeEvent) {\n      this.initResizeEvents(element);\n      element.sticky.resizeEvent = true;\n    }\n\n    if (!element.sticky.scrollEvent) {\n      this.initScrollEvents(element);\n      element.sticky.scrollEvent = true;\n    }\n\n    this.setPosition(element);\n  }\n\n  /**\n   * Function which is adding onResizeEvents to window listener and assigns function to element as resizeListener\n   * @function\n   * @param {node} element - Element for which resize events are initialised\n   */\n  initResizeEvents(element) {\n    element.sticky.resizeListener = () => this.onResizeEvents(element);\n    window.addEventListener(\"resize\", element.sticky.resizeListener);\n  }\n\n  /**\n   * Removes element listener from resize event\n   * @function\n   * @param {node} element - Element from which listener is deleted\n   */\n  destroyResizeEvents(element) {\n    window.removeEventListener(\"resize\", element.sticky.resizeListener);\n  }\n\n  /**\n   * Function which is fired when user resize window. It checks if element should be activated or deactivated and then run setPosition function\n   * @function\n   * @param {node} element - Element for which event function is fired\n   */\n  onResizeEvents(element) {\n    this.vp = this.getViewportSize();\n\n    element.sticky.rect = this.getRectangle(element);\n    element.sticky.container.rect = this.getRectangle(element.sticky.container);\n\n    if (\n      element.sticky.rect.top + element.sticky.rect.height <\n        element.sticky.container.rect.top +\n          element.sticky.container.rect.height &&\n      element.sticky.stickyFor < this.vp.width &&\n      !element.sticky.active\n    ) {\n      element.sticky.active = true;\n    } else if (\n      element.sticky.rect.top + element.sticky.rect.height >=\n        element.sticky.container.rect.top +\n          element.sticky.container.rect.height ||\n      (element.sticky.stickyFor >= this.vp.width && element.sticky.active)\n    ) {\n      element.sticky.active = false;\n    }\n\n    this.setPosition(element);\n  }\n\n  /**\n   * Function which is adding onScrollEvents to window listener and assigns function to element as scrollListener\n   * @function\n   * @param {node} element - Element for which scroll events are initialised\n   */\n  initScrollEvents(element) {\n    element.sticky.scrollListener = () => this.onScrollEvents(element);\n    window.addEventListener(\"scroll\", element.sticky.scrollListener);\n  }\n\n  /**\n   * Removes element listener from scroll event\n   * @function\n   * @param {node} element - Element from which listener is deleted\n   */\n  destroyScrollEvents(element) {\n    window.removeEventListener(\"scroll\", element.sticky.scrollListener);\n  }\n\n  /**\n   * Function which is fired when user scroll window. If element is active, function is invoking setPosition function\n   * @function\n   * @param {node} element - Element for which event function is fired\n   */\n  onScrollEvents(element) {\n    if (element.sticky && element.sticky.active) {\n      this.setPosition(element);\n    }\n  }\n\n  /**\n   * Main function for the library. Here are some condition calculations and css appending for sticky element when user scroll window\n   * @function\n   * @param {node} element - Element that will be positioned if it's active\n   */\n  setPosition(element) {\n    this.css(element, { position: \"\", width: \"\", top: \"\", left: \"\" });\n    element.classList.remove(\"stuck\");\n\n    if (this.vp.height < element.sticky.rect.height || !element.sticky.active) {\n      return;\n    }\n\n    if (!element.sticky.rect.width) {\n      element.sticky.rect = this.getRectangle(element);\n    }\n\n    if (element.sticky.wrap) {\n      this.css(element.parentNode, {\n        display: \"block\",\n        width: element.sticky.rect.width + \"px\",\n        height: element.sticky.rect.height + \"px\",\n      });\n    }\n\n    if (\n      element.sticky.rect.top === 0 &&\n      element.sticky.container === this.body\n    ) {\n      if (!element.sticky.customStyles) {\n        this.css(element, {\n          position: \"fixed\",\n          top: element.sticky.rect.top + \"px\",\n          left: element.sticky.rect.left + \"px\",\n          width: element.sticky.rect.width + \"px\",\n        });\n      }\n      if (element.sticky.stickyClass) {\n        element.classList.add(element.sticky.stickyClass);\n      }\n    } else if (\n      this.scrollTop >\n      element.sticky.rect.top - element.sticky.marginTop\n    ) {\n      if (!element.sticky.customStyles) {\n        this.css(element, {\n          position: \"fixed\",\n          width: element.sticky.rect.width + \"px\",\n          left: element.sticky.rect.left + \"px\",\n        });\n      }\n\n      if (\n        this.scrollTop + element.sticky.rect.height + element.sticky.marginTop >\n        element.sticky.container.rect.top +\n          element.sticky.container.offsetHeight -\n          element.sticky.marginBottom\n      ) {\n        if (element.sticky.stickyClass) {\n          element.classList.remove(element.sticky.stickyClass);\n        }\n\n        this.css(element, {\n          top:\n            element.sticky.container.rect.top +\n            element.sticky.container.offsetHeight -\n            (this.scrollTop +\n              element.sticky.rect.height +\n              element.sticky.marginBottom) +\n            \"px\",\n        });\n      } else {\n        if (element.sticky.stickyClass) {\n          element.classList.add(element.sticky.stickyClass);\n        }\n\n        this.css(element, { top: element.sticky.marginTop + \"px\" });\n      }\n    } else {\n      if (element.sticky.stickyClass) {\n        element.classList.remove(element.sticky.stickyClass);\n      }\n\n      this.css(element, { position: \"\", width: \"\", top: \"\", left: \"\" });\n      if (element.sticky.wrap) {\n        this.css(element.parentNode, { display: \"\", width: \"\", height: \"\" });\n      }\n    }\n  }\n\n  /**\n   * Function that updates element sticky rectangle (with sticky container), then activate or deactivate element, then update position if it's active\n   * @function\n   */\n  update() {\n    this.forEach(this.elements, (element) => {\n      element.sticky.rect = this.getRectangle(element);\n      element.sticky.container.rect = this.getRectangle(\n        element.sticky.container\n      );\n\n      this.activate(element);\n      this.setPosition(element);\n    });\n  }\n\n  /**\n   * Destroys sticky element, remove listeners\n   * @function\n   */\n  destroy() {\n    window.removeEventListener(\"load\", this.updateScrollTopPosition);\n    window.removeEventListener(\"scroll\", this.updateScrollTopPosition);\n\n    this.forEach(this.elements, (element) => {\n      this.destroyResizeEvents(element);\n      this.destroyScrollEvents(element);\n      delete element.sticky;\n    });\n  }\n\n  /**\n   * Function that returns container element in which sticky element is stuck (if is not specified, then it's stuck to body)\n   * @function\n   * @param {node} element - Element which sticky container are looked for\n   * @return {node} element - Sticky container\n   */\n  getStickyContainer(element) {\n    let container = element.parentNode;\n\n    while (\n      !container.hasAttribute(\"data-sticky-container\") &&\n      !container.parentNode.querySelector(element.sticky.stickyContainer) &&\n      container !== this.body\n    ) {\n      container = container.parentNode;\n    }\n\n    return container;\n  }\n\n  /**\n   * Function that returns element rectangle & position (width, height, top, left)\n   * @function\n   * @param {node} element - Element which position & rectangle are returned\n   * @return {object}\n   */\n  getRectangle(element) {\n    this.css(element, { position: \"\", width: \"\", top: \"\", left: \"\" });\n\n    const width = Math.max(\n      element.offsetWidth,\n      element.clientWidth,\n      element.scrollWidth\n    );\n    const height = Math.max(\n      element.offsetHeight,\n      element.clientHeight,\n      element.scrollHeight\n    );\n\n    let top = 0;\n    let left = 0;\n\n    do {\n      top += element.offsetTop || 0;\n      left += element.offsetLeft || 0;\n      element = element.offsetParent;\n    } while (element);\n\n    return { top, left, width, height };\n  }\n\n  /**\n   * Function that returns viewport dimensions\n   * @function\n   * @return {object}\n   */\n  getViewportSize() {\n    return {\n      width: Math.max(\n        document.documentElement.clientWidth,\n        window.innerWidth || 0\n      ),\n      height: Math.max(\n        document.documentElement.clientHeight,\n        window.innerHeight || 0\n      ),\n    };\n  }\n\n  /**\n   * Function that updates window scroll position\n   * @function\n   * @return {number}\n   */\n  updateScrollTopPosition() {\n    this.scrollTop =\n      (window.pageYOffset || document.scrollTop) - (document.clientTop || 0) ||\n      0;\n  }\n\n  /**\n   * Helper function for loops\n   * @helper\n   * @param {array}\n   * @param {function} callback - Callback function (no need for explanation)\n   */\n  forEach(array, callback) {\n    for (let i = 0, len = array.length; i < len; i++) {\n      callback(array[i]);\n    }\n  }\n\n  /**\n   * Helper function to add/remove css properties for specified element.\n   * @helper\n   * @param {node} element - DOM element\n   * @param {object} properties - CSS properties that will be added/removed from specified element\n   */\n  css(element, properties) {\n    for (let property in properties) {\n      if (properties.hasOwnProperty(property)) {\n        element.style[property] = properties[property];\n      }\n    }\n  }\n}\n"],"sourceRoot":""}